<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_18) on Thu Jun 23 13:37:58 CEST 2011 -->
<TITLE>
Buffer
</TITLE>

<META NAME="date" CONTENT="2011-06-23">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Buffer";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Buffer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../xxl/core/io/BlockFactory.html" title="class in xxl.core.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?xxl/core/io/Buffer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Buffer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
xxl.core.io</FONT>
<BR>
Class Buffer&lt;O,I,E&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>xxl.core.io.Buffer&lt;O,I,E&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>O</CODE> - the type of the objects specifing the owner of a buffer's slot.<DD><CODE>I</CODE> - the type of the identifiers used for identifing the buffer's
        slots.<DD><CODE>E</CODE> - the type of the elements stored by this buffer.</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../xxl/core/io/ClockBuffer.html" title="class in xxl.core.io">ClockBuffer</A>, <A HREF="../../../xxl/core/io/LRUBuffer.html" title="class in xxl.core.io">LRUBuffer</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>Buffer&lt;O,I,E&gt;</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
This class provides a buffer for buffering I/Os in order to increase
 performance.
 
 <p>It does not define any displacement strategy. When implementing a buffer
 by extending this class, the user only has to implement the victim method,
 that determines the <i>next</i> slot to displace in the buffer. Objects in
 the buffer are identified by their owner and an id that is unique at the
 owner. Additional, the buffer stored a map that contains the owners and
 their slots in this buffer. The owners are mapped to maps that contain the
 owner's slots. These slot maps identify the slots by their ids (for further
 detail see field <A HREF="../../../xxl/core/io/Buffer.Slot.html#members"><CODE>members</CODE></A> in <code>Buffer.Slot</code>).
 
 <p>Important: every class used as identifyers has to implement the hashCode
 method of <CODE>Object</CODE>.</p>
  
 <p>The buffer supports the access, update and removal of slots (the objects
 contained by the slots), that identified by their id and owner, and the the
 removal of all slot owned by a specified owner. Slots of the buffer can also
 be fixed (in order to avoid the removal of them) and unfixed. In order to
 guarantee highest flexibility, the way of flushing an object in the buffer
 must be implemented by a function. Therefore an owner can specify an own
 flush function for every object in the buffer.</p>

 <p>Objects can be inserted into the buffer by calling the fix or get method
 with an id that is new at the owner and a function, that returns the object
 to insert, when it is invoked with the specified id. The update method can
 also be used for inserting an object, when it is called with a new id and
 the object to insert and a flush function for it.</p>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../xxl/core/functions/Constant.html" title="class in xxl.core.functions"><CODE>Constant</CODE></A>, 
<A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions"><CODE>Function</CODE></A>, 
<CODE>HashMap</CODE>, 
<CODE>Iterator</CODE>, 
<CODE>Map</CODE>, 
<CODE>Map.Entry</CODE></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This class provides a single slot in a buffer.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#capacityBytes">capacityBytes</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of bytes which will be buffered given at most.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#fixedSlots">fixedSlots</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of fixed slots in this buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map&lt;<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>,java.util.Map&lt;<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>,<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#owners">owners</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A map that contains the owners and their slots in this buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#size">size</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of slots in this buffer that contain an object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#sizeBytes">sizeBytes</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of bytes currently inside the buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List&lt;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#slots">slots</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An array containing all the slots of this buffer.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#Buffer(int)">Buffer</A></B>(int&nbsp;capacity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a new empty buffer with a number of slots specified by the
 given capacity.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#Buffer(int, int)">Buffer</A></B>(int&nbsp;capacity,
       int&nbsp;capacityBytes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a new empty buffer with a number of slots specified by the
 given capacity.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#bytesUsed()">bytesUsed</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number bytes used in this buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#capacity()">capacity</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the capacity of this buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#checkBuffer()">checkBuffer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks wheather aggregated values are still correct inside the
 structures of the buffer (sizes).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#contains(O, I)">contains</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
         <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether this buffer contains a slot with the given id owned by
 the specified owner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#fix(O, I, xxl.core.functions.Function)">fix</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
    <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id,
    <A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;? super <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>,? extends <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">E</A>&gt;&nbsp;obtain)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fixes the slot with the given id owned by the specified owner and
 returns it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#fixedSlots()">fixedSlots</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of fixed slots in this buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#flush(O, I)">flush</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
      <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flushes the slot with the given id owned by the specified owner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#flushAll(O)">flushAll</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flushes all slots in this buffer that are owned by the specified owner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">E</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#get(O, I, xxl.core.functions.Function, boolean)">get</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
    <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id,
    <A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;? super <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>,? extends <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">E</A>&gt;&nbsp;obtain,
    boolean&nbsp;unfix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the object contained by the slot with the given id owned by the
 specified owner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#handleSizeOverflow()">handleSizeOverflow</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handles the situation iff the buffer contains more bytes than the
 capacity says.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#isFixed(O, I)">isFixed</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
        <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether the slot with the given id owned by the specified owner
 is fixed or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#lookUp(O, I)">lookUp</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
       <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the slot with the given id owned by the specified owner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#newSlot(int)">newSlot</A></B>(int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new empty slot with the specified index.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#remove(O, I)">remove</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
       <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the object and any information belonging to it from the slot
 with the given id owned by the specified owner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#removeAll(O)">removeAll</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the objects and any information belonging to them from all slots
 in this buffer that are owned by the specified owner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#size()">size</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of slots in this buffer that contain an object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#unfix(O, I)">unfix</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
      <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unfixes the slot with the given id owned by the specified owner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#update(O, I, E, xxl.core.functions.Function, boolean)">update</A></B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
       <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id,
       <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">E</A>&nbsp;object,
       <A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,?&gt;&nbsp;flush,
       boolean&nbsp;unfix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the slot with the given id owned by the specified owner with the
 specifed object and flush function.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/Buffer.html#victim()">victim</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <i>next</i> slot to displace in this buffer.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="fixedSlots"><!-- --></A><H3>
fixedSlots</H3>
<PRE>
protected int <B>fixedSlots</B></PRE>
<DL>
<DD>The number of fixed slots in this buffer.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="size"><!-- --></A><H3>
size</H3>
<PRE>
protected int <B>size</B></PRE>
<DL>
<DD>The number of slots in this buffer that contain an object.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="sizeBytes"><!-- --></A><H3>
sizeBytes</H3>
<PRE>
protected int <B>sizeBytes</B></PRE>
<DL>
<DD>The number of bytes currently inside the buffer.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="capacityBytes"><!-- --></A><H3>
capacityBytes</H3>
<PRE>
protected int <B>capacityBytes</B></PRE>
<DL>
<DD>The number of bytes which will be buffered given at most.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="slots"><!-- --></A><H3>
slots</H3>
<PRE>
protected java.util.List&lt;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A>&gt; <B>slots</B></PRE>
<DL>
<DD>An array containing all the slots of this buffer.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="owners"><!-- --></A><H3>
owners</H3>
<PRE>
protected java.util.Map&lt;<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>,java.util.Map&lt;<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>,<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A>&gt;&gt; <B>owners</B></PRE>
<DL>
<DD>A map that contains the owners and their slots in this buffer. The
 owners are mapped to maps that contain the owner's slots. These slot
 maps identify the slots by their ids (for further detail see field
 <A HREF="../../../xxl/core/io/Buffer.Slot.html#members"><CODE>members</CODE></A> in <code>Buffer.Slot</code>).
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Buffer(int, int)"><!-- --></A><H3>
Buffer</H3>
<PRE>
public <B>Buffer</B>(int&nbsp;capacity,
              int&nbsp;capacityBytes)</PRE>
<DL>
<DD>Constructs a new empty buffer with a number of slots specified by the
 given capacity.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>capacity</CODE> - the number of slots in the new buffer.<DD><CODE>capacityBytes</CODE> - the capacity of the buffer in bytes. If this is
        &gt;&nbsp;-1, then the buffered objects have to efficiently
        implement the interface SizeAware, so that the buffer can
        determine the correct number of bytes used.</DL>
</DL>
<HR>

<A NAME="Buffer(int)"><!-- --></A><H3>
Buffer</H3>
<PRE>
public <B>Buffer</B>(int&nbsp;capacity)</PRE>
<DL>
<DD>Constructs a new empty buffer with a number of slots specified by the
 given capacity.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>capacity</CODE> - the number of slots in the new buffer.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="victim()"><!-- --></A><H3>
victim</H3>
<PRE>
protected abstract <A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A> <B>victim</B>()</PRE>
<DL>
<DD>Returns the <i>next</i> slot to displace in this buffer. This method is
 called every time a slot should be displaced and must implement the
 displacement strategy of this buffer.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the <i>next</i> slot to displace in this buffer.</DL>
</DD>
</DL>
<HR>

<A NAME="newSlot(int)"><!-- --></A><H3>
newSlot</H3>
<PRE>
protected <A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A> <B>newSlot</B>(int&nbsp;index)</PRE>
<DL>
<DD>Creates a new empty slot with the specified index. This factory method
 simply calls the constructor of <code>Slot</code>. Every subclass of
 <code>Buffer</code> that extends the inner class <code>Slot</code> must
 overwrite this method by defining the method
 <code><pre>
   protected Buffer.Slot newSlot(int index) {
       return new Slot(index);
   }
 </pre></code>
 This guarantees that every call of the newSlot method creates the
 correct corresponding <code>Slot</code> object of the subclass.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - the index of the new slot.
<DT><B>Returns:</B><DD>a new empty slot with the specified index.</DL>
</DD>
</DL>
<HR>

<A NAME="size()"><!-- --></A><H3>
size</H3>
<PRE>
public int <B>size</B>()</PRE>
<DL>
<DD>Returns the number of slots in this buffer that contain an object.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the number of occupied slots in this buffer.</DL>
</DD>
</DL>
<HR>

<A NAME="capacity()"><!-- --></A><H3>
capacity</H3>
<PRE>
public int <B>capacity</B>()</PRE>
<DL>
<DD>Returns the capacity of this buffer.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the maximal number of slots this buffer can contain.</DL>
</DD>
</DL>
<HR>

<A NAME="bytesUsed()"><!-- --></A><H3>
bytesUsed</H3>
<PRE>
public int <B>bytesUsed</B>()</PRE>
<DL>
<DD>Returns the number bytes used in this buffer.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the number of occupied space in bytes in this buffer.</DL>
</DD>
</DL>
<HR>

<A NAME="lookUp(java.lang.Object,java.lang.Object)"><!-- --></A><A NAME="lookUp(O, I)"><!-- --></A><H3>
lookUp</H3>
<PRE>
protected <A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A> <B>lookUp</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
                             <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</PRE>
<DL>
<DD>Returns the slot with the given id owned by the specified owner. This
 implementation maps owner to the map that contains the owner's slots by
 using the map <code>owners</code>. Thereafter the slot map is used for
 mapping the id to the slot identified by the id. When there is no such
 slot <code>null</code> is returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the slot to return.<DD><CODE>id</CODE> - the id of the slot to return.
<DT><B>Returns:</B><DD>the slot with the given id owned by the specified owner or
         <code>null</code> if no such slot exists.</DL>
</DD>
</DL>
<HR>

<A NAME="handleSizeOverflow()"><!-- --></A><H3>
handleSizeOverflow</H3>
<PRE>
protected final void <B>handleSizeOverflow</B>()</PRE>
<DL>
<DD>Handles the situation iff the buffer contains more bytes than the
 capacity says. Some slots are removed in this case.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="fix(java.lang.Object,java.lang.Object,xxl.core.functions.Function)"><!-- --></A><A NAME="fix(O, I, xxl.core.functions.Function)"><!-- --></A><H3>
fix</H3>
<PRE>
protected <A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io">Buffer.Slot</A> <B>fix</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
                          <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id,
                          <A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;? super <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>,? extends <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">E</A>&gt;&nbsp;obtain)
                   throws java.lang.IllegalStateException</PRE>
<DL>
<DD>Fixes the slot with the given id owned by the specified owner and
 returns it. When no such slot exists, a new object is created by calling
 the given function obtain with the specified id and this object is
 inserted into the buffer. When the buffer overflows (it is full and all
 slots are fixed), an <code>IllegalStateException</code> will be thrown.
 Otherwise the <i>next</i> slot to displace will be determined by calling
 the victim method and its object will be replaced by the new object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the slot to fix.<DD><CODE>id</CODE> - the id of the slot to fix.<DD><CODE>obtain</CODE> - a function for getting the object, when there is no slot
        the given id owned by the specified owner.
<DT><B>Returns:</B><DD>the fixed slot with the given id owned by the specified owner.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - when the buffer overflows.</DL>
</DD>
</DL>
<HR>

<A NAME="unfix(java.lang.Object,java.lang.Object)"><!-- --></A><A NAME="unfix(O, I)"><!-- --></A><H3>
unfix</H3>
<PRE>
public void <B>unfix</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
                  <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</PRE>
<DL>
<DD>Unfixes the slot with the given id owned by the specified owner. The
 desired slot is determined by calling the lookUp method. When such a
 slot exists, its unfix method is called.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the slot to unfix.<DD><CODE>id</CODE> - the id of the slot to unfix.</DL>
</DD>
</DL>
<HR>

<A NAME="contains(java.lang.Object,java.lang.Object)"><!-- --></A><A NAME="contains(O, I)"><!-- --></A><H3>
contains</H3>
<PRE>
public boolean <B>contains</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
                        <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</PRE>
<DL>
<DD>Returns whether this buffer contains a slot with the given id owned by
 the specified owner. In other words, returns <code>true</code> if
 <code>lookUp(owner,id)&bnsp;!=&bnsp;null</code>, else returns
 <code>false</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the desired slot.<DD><CODE>id</CODE> - the id of the desired slot.
<DT><B>Returns:</B><DD><code>true</code> if this buffer contains a slot with the given
         id owned by the specified owner, else returns
         <code>false</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="isFixed(java.lang.Object,java.lang.Object)"><!-- --></A><A NAME="isFixed(O, I)"><!-- --></A><H3>
isFixed</H3>
<PRE>
public boolean <B>isFixed</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
                       <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</PRE>
<DL>
<DD>Returns whether the slot with the given id owned by the specified owner
 is fixed or not. This implementation checks whether such a slot exists
 and, when it exists, whether it is fixed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the desired slot.<DD><CODE>id</CODE> - the id of the desired slot.
<DT><B>Returns:</B><DD><code>true</code> if the slot with the given id owned by the
         specified owner is fixed, else returns <code>false</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="flush(java.lang.Object,java.lang.Object)"><!-- --></A><A NAME="flush(O, I)"><!-- --></A><H3>
flush</H3>
<PRE>
public void <B>flush</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
                  <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</PRE>
<DL>
<DD>Flushes the slot with the given id owned by the specified owner. This
 implementation checks whether such a slot exists and flushes it, when it
 exists.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the slot to flush.<DD><CODE>id</CODE> - the id of the slot to flush.</DL>
</DD>
</DL>
<HR>

<A NAME="flushAll(java.lang.Object)"><!-- --></A><A NAME="flushAll(O)"><!-- --></A><H3>
flushAll</H3>
<PRE>
public void <B>flushAll</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner)</PRE>
<DL>
<DD>Flushes all slots in this buffer that are owned by the specified owner.
 This implementation gets all slot owned by the specified owner by using
 the map <code>owners</code> and flushes these slot thereafter.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the slots to flush.</DL>
</DD>
</DL>
<HR>

<A NAME="get(java.lang.Object,java.lang.Object,xxl.core.functions.Function,boolean)"><!-- --></A><A NAME="get(O, I, xxl.core.functions.Function, boolean)"><!-- --></A><H3>
get</H3>
<PRE>
public <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">E</A> <B>get</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
             <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id,
             <A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;? super <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>,? extends <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">E</A>&gt;&nbsp;obtain,
             boolean&nbsp;unfix)
      throws java.lang.IllegalStateException</PRE>
<DL>
<DD>Returns the object contained by the slot with the given id owned by the
 specified owner. When no such slot exists, a new object is created by
 calling the given function obtain with the specified id and this object
 is inserted into the buffer. When the buffer overflows (it is full and
 all slots are fixed), an <code>IllegalStateException</code> will be
 thrown. Otherwise the <i>next</i> slot to displace will be determined by
 calling the victim method and its object will be replaced by the new
 object. When <code>unfix&nbsp;==&nbsp;true</code> the slot containing
 the desired object is unfixed at last.
 
 <p>This implementation fixes the desired slot by calling this buffer's
 fix method with the specified owner, id and obtain function and calls
 the slot's get method thereafter. When
 <code>unfix&nbsp;==&nbsp;true</code>, its unfix method is called at
 last.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the slot containing the object to get.<DD><CODE>id</CODE> - the id of the slot containing the object to get.<DD><CODE>obtain</CODE> - a function for creating a new object, when there is no
        slot the the given id owned by the specified owner.<DD><CODE>unfix</CODE> - a flag that determines whether the desired slot should be
        unfixed after getting its object or not.
<DT><B>Returns:</B><DD>the object contained by the slot with the given id owned by the
         specified owner.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - when the buffer overflows.</DL>
</DD>
</DL>
<HR>

<A NAME="update(java.lang.Object,java.lang.Object,java.lang.Object,xxl.core.functions.Function,boolean)"><!-- --></A><A NAME="update(O, I, E, xxl.core.functions.Function, boolean)"><!-- --></A><H3>
update</H3>
<PRE>
public void <B>update</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
                   <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id,
                   <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">E</A>&nbsp;object,
                   <A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,?&gt;&nbsp;flush,
                   boolean&nbsp;unfix)
            throws java.lang.IllegalStateException</PRE>
<DL>
<DD>Updates the slot with the given id owned by the specified owner with the
 specifed object and flush function. When no such slot exists, the given
 object is inserted into the buffer. When the buffer overflows (it is
 full and all slots are fixed), an <code>IllegalStateException</code>
 will be thrown. Otherwise the <i>next</i> slot to displace will be
 determined by calling the victim method and its object and flush
 function will be replaced by the given object and flush function. When
 <code>unfix&nbsp;==&nbsp;true</code> the slot containing the desired
 object is unfixed at last.
 
 <p>This implementation fixes the desired slot by calling this buffer's
 fix method with the specified owner, id and a constant function that
 always returns the given object, when it is invoked. Thereafter the
 slot's update method is called with the specified object and flush
 function. When <code>unfix&nbsp;==&nbsp;true</code>, its unfix method is
 called at last.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the slot to update.<DD><CODE>id</CODE> - the id of the slot to update.<DD><CODE>object</CODE> - the object that replaces the object contained by the
        desired slot.<DD><CODE>flush</CODE> - the function that replaces the flush function of the
        desired slot.<DD><CODE>unfix</CODE> - a flag that determines whether the desired slot should be
        unfixed after updating it or not.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - when the buffer overflows.</DL>
</DD>
</DL>
<HR>

<A NAME="remove(java.lang.Object,java.lang.Object)"><!-- --></A><A NAME="remove(O, I)"><!-- --></A><H3>
remove</H3>
<PRE>
public void <B>remove</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner,
                   <A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">I</A>&nbsp;id)</PRE>
<DL>
<DD>Removes the object and any information belonging to it from the slot
 with the given id owned by the specified owner. This implementation
 checks whether such a slot exists and calls its remove method, when it
 exists.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the slot to remove.<DD><CODE>id</CODE> - the id of the slot to remove.</DL>
</DD>
</DL>
<HR>

<A NAME="removeAll(java.lang.Object)"><!-- --></A><A NAME="removeAll(O)"><!-- --></A><H3>
removeAll</H3>
<PRE>
public void <B>removeAll</B>(<A HREF="../../../xxl/core/io/Buffer.html" title="type parameter in Buffer">O</A>&nbsp;owner)</PRE>
<DL>
<DD>Removes the objects and any information belonging to them from all slots
 in this buffer that are owned by the specified owner. This
 implementation gets all slot owned by the specified owner by using the
 map <code>owners</code> and calls the remove methods of these slots
 thereafter.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>owner</CODE> - the owner of the slots to remove.</DL>
</DD>
</DL>
<HR>

<A NAME="checkBuffer()"><!-- --></A><H3>
checkBuffer</H3>
<PRE>
public void <B>checkBuffer</B>()</PRE>
<DL>
<DD>Checks wheather aggregated values are still correct inside the
 structures of the buffer (sizes).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="fixedSlots()"><!-- --></A><H3>
fixedSlots</H3>
<PRE>
public int <B>fixedSlots</B>()</PRE>
<DL>
<DD>Returns the number of fixed slots in this buffer.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Buffer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../xxl/core/io/BlockFactory.html" title="class in xxl.core.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?xxl/core/io/Buffer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Buffer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
