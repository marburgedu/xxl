<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_18) on Thu Jun 23 13:38:07 CEST 2011 -->
<TITLE>
ReplacementSelection
</TITLE>

<META NAME="date" CONTENT="2011-06-23">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ReplacementSelection";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReplacementSelection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../xxl/core/cursors/groupers/NestedLoopsGrouper.html" title="class in xxl.core.cursors.groupers"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../xxl/core/cursors/groupers/SortBasedGrouper.html" title="class in xxl.core.cursors.groupers"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?xxl/core/cursors/groupers/ReplacementSelection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReplacementSelection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
xxl.core.cursors.groupers</FONT>
<BR>
Class ReplacementSelection&lt;E&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">xxl.core.cursors.AbstractCursor</A>&lt;E&gt;
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>xxl.core.cursors.groupers.ReplacementSelection&lt;E&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>E</CODE> - the type of the elements returned by this iteration.</DL>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.util.Iterator&lt;E&gt;, <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;E&gt;</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ReplacementSelection&lt;E&gt;</B><DT>extends <A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;E&gt;</DL>
</PRE>

<P>
The replacement-selection operator takes an iteration as its input and
 creates sorted runs as its output. This technique is described in "Donald
 Knuth.: <i>Sorting and Searching</i>. Addison-Wesley 1970." The
 replacement-selection algorithm is especially useful for external sorting.
 Recall, that an external merge-sort is performed by first producing
 <code>n</code> sorted input-runs. These runs are then recursively merged to
 a single output-run. The runs produced by replacement-selection operator
 tend to be twice as big as the available memory or even bigger.
 
 <p><b>Implementation details:</b> When initializing the
 replacement-selection operator the input iteration's elements are inserted
 in a array with length <code>size</code> until this array is filled up or
 the input iteration has no more elements. With the help of this array and
 the given comparator a new <A HREF="../../../../xxl/core/collections/queues/Heap.html" title="class in xxl.core.collections.queues"><CODE>heap</CODE></A> is
 created with the intention to order the elements. If a default
 <A HREF="../../../../xxl/core/comparators/ComparableComparator.html" title="class in xxl.core.comparators"><CODE>comparator</CODE></A> which assumes
 that the elements implement the <CODE>comparable</CODE>
 interface is used, the elements will be returned in a natural ascending
 order, because they will be organized in a min-heap. But if an
 <A HREF="../../../../xxl/core/comparators/InverseComparator.html" title="class in xxl.core.comparators"><CODE>inverse</CODE></A> comparator is used
 instead, they will be organized in a max-heap and a descending order will
 result. The method <code>check</code> verifies whether there are more
 elements to process. If so and the heap is empty, it creates a new heap
 using the elements that are reside in memory. The integer field
 <code>n</code> displays the current position in the array. The array is used
 for the creation of a new heap. It is initialized with <code>size</code>,
 namely the number of elements that can be kept in memory. This array is
 builds up a new heap during the run-creation. Consider the example a
 comparable comparator defines the order in the heap, so a min-heap manages
 the inserted elements of the input cursor. If such an element is lower than
 the <code>peek</code> element of the heap a new run has to start, therefore
 this element is written to the array. If the current heap has been emptied,
 a new heap is instantly created by the method <code>check</code> called in
 the method <code>next</code> of the replacement-selection operator. So a new
 heap is built up during the other heap is consumed. The next element to be
 returned is computed as follows:<br />
 A next element only exists if <code>n &lt; array.length</code> or the heap
 contains further elements. If this is the case the method <code>check</code>
 is performed. If the input cursor contains more elements and the
 <code>peek</code> method of the heap returns an element that is lower than
 or equal to the next elemet of the input iteration concerning the used
 comparator, the next element of the heap is returned after the next element
 of the input iteration has been inserted into the heap. If the comparator
 returned a value greater than 0, the next element of the heap is returned
 and the next element of the input iteration is inserted in the array at
 position <code>n</code>. The array builds up a new heap for the next run.
 After that <code>n</code> is decremented. If the input iteration does not
 contain further elements the next element of the heap is returned.</p>
 
 <p><b>Note:</b> If the input iteration is given by an object of the class
 <CODE>Iterator</CODE>, i.e., it does not support the <code>peek</code>
 operation, it is internally wrapped to a cursor.</p>
 
 <p><b>Example usage (1):</b>
 <code><pre>
   ReplacementSelection&lt;Integer&gt; cursor = new ReplacementSelection&lt;Integer&gt;(
       new Enumerator(11),
       3,
       ComparableComparator.INTEGER_COMPARATOR
   );
   
   cursor.open();
   
   while (cursor.hasNext())
       System.out.print(cursor.next() + "; ");
   System.out.flush();
   System.out.println();
   
   cursor.close();
 </pre></code>
 This instance of a replacement-selection operator sorts the enumerator's
 elements with range [0,11[ by using a memory size of 3, i.e., the heap
 consists of a maximum of three elements. In this case a
 <A HREF="../../../../xxl/core/comparators/ComparableComparator.html" title="class in xxl.core.comparators"><CODE>comparator</CODE></A> which assumes
 that the elements implement the <CODE>comparable</CODE>
 interface is used, so the elements are sorted in a natural order. If the
 whole replacement-selection operator is consumed, only one single run
 containing all of the underlying enumerator in ascending order is created.
 That is the fact because using a comparable comparator causes that the heap
 is organized as a min-heap and therefore the next element of the heap
 (minimum) is returned every time. Due to the <code>peek</code> element of
 the input iteration is greater than the <code>peek</code> element of the
 heap. The next element of the input iteration is inserted in the heap and
 then the heap is reorganized. Because the enumerator's elements are deliverd
 in an ascending order a heap has to be build up only for one time. The
 generated output looks as follows:
 <pre>
   0; 1; 2; 3; 4; 5; 6; 7; 8; 9; 10;
 </pre></p>

 <p><b>Example usage (2):</b>
 <code><pre>
   cursor = new ReplacementSelection&lt;Integer&gt;(
       new Permutator(20),
       3,
       ComparableComparator.INTEGER_COMPARATOR
   );
   
   cursor.open();
   
   int last = 0;
   boolean first = true;
   while (cursor.hasNext())
       if (last > cursor.peek() || first) {
           System.out.println();
           System.out.print(" Run: ");
           last = cursor.next();
           System.out.print(last + "; ");
           first = false;
       }
       else {
           last = cursor.next();
           System.out.print(last + "; ");
       }
   System.out.flush();
   
   cursor.close();
 </pre></code>
 This instance of a replacement-selection uses a
 <A HREF="../../../../xxl/core/cursors/sources/Permutator.html" title="class in xxl.core.cursors.sources"><CODE>permutator</CODE></A> with range [0,20[ and
 memory size of 3, that is also the heap size. In this case a comparable
 comparator is specified to compare two elements, i.e., a natural order will
 result and the used heap is a min-heap, too. This example shows that more
 than only one run can be created. A new run starts if the <code>peek</code>
 element of the input iteration (permutator) is lower than the
 <code>peek</code> element of the heap, i.e., the minimal element. The output
 demonstrates the different created runs each having an ascending order
 concerning the permutator's elements.</p>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><CODE>Iterator</CODE>, 
<A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors"><CODE>Cursor</CODE></A>, 
<A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors"><CODE>AbstractCursor</CODE></A>, 
<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="class in xxl.core.cursors.sorters"><CODE>MergeSorter</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Object[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#array">array</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The array used to create a heap.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#comparator">comparator</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The comparator used to compare two elements of the input iteration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/collections/queues/Heap.html" title="class in xxl.core.collections.queues">Heap</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#heap">heap</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The heap used for the replacement-selection algorithm, ordering the
 elements.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;? extends <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#input">input</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The input iteration the runs should be created of.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#n">n</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Current position in the array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#size">size</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of elements that can be kept in memory.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_xxl.core.cursors.AbstractCursor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class xxl.core.cursors.<A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#assignedNext">assignedNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#computedHasNext">computedHasNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNext">hasNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isClosed">isClosed</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isOpened">isOpened</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isValid">isValid</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#next">next</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#ReplacementSelection(java.util.Iterator, int, java.util.Comparator)">ReplacementSelection</A></B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;&nbsp;iterator,
                     int&nbsp;size,
                     java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;&nbsp;comparator)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new instance of the replacement-selection operator.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#check()">check</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks whether there are more elements to process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Closes the replacement-selection operator, i.e., signals the cursor to
 clean up resources, close the input iteration and the internally used
 heap.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#hasNextObject()">hasNextObject</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if the iteration has more elements.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#init()">init</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the replacement-selection operator.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#nextObject()">nextObject</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the next element in the iteration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#open()">open</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opens the replacement-selection operator, i.e., signals the cursor to
 reserve resources, open the input iteration and initializing the
 internally used heap.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html#reset()">reset</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resets the replacement-selection to its initial state (optional
 operation).</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_xxl.core.cursors.AbstractCursor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class xxl.core.cursors.<A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNext()">hasNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isClosed()">isClosed</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#next()">next</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#peek()">peek</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#remove()">remove</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsPeek()">supportsPeek</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsRemove()">supportsRemove</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsReset()">supportsReset</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsUpdate()">supportsUpdate</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#update(E)">update</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="input"><!-- --></A><H3>
input</H3>
<PRE>
protected <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;? extends <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt; <B>input</B></PRE>
<DL>
<DD>The input iteration the runs should be created of.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="array"><!-- --></A><H3>
array</H3>
<PRE>
protected java.lang.Object[] <B>array</B></PRE>
<DL>
<DD>The array used to create a heap. The length of the array is specified by
 the parameter <code>size</code>.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="size"><!-- --></A><H3>
size</H3>
<PRE>
protected int <B>size</B></PRE>
<DL>
<DD>The number of elements that can be kept in memory.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="n"><!-- --></A><H3>
n</H3>
<PRE>
protected int <B>n</B></PRE>
<DL>
<DD>Current position in the array.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="comparator"><!-- --></A><H3>
comparator</H3>
<PRE>
protected java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt; <B>comparator</B></PRE>
<DL>
<DD>The comparator used to compare two elements of the input iteration.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="heap"><!-- --></A><H3>
heap</H3>
<PRE>
protected <A HREF="../../../../xxl/core/collections/queues/Heap.html" title="class in xxl.core.collections.queues">Heap</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt; <B>heap</B></PRE>
<DL>
<DD>The heap used for the replacement-selection algorithm, ordering the
 elements.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ReplacementSelection(java.util.Iterator, int, java.util.Comparator)"><!-- --></A><H3>
ReplacementSelection</H3>
<PRE>
public <B>ReplacementSelection</B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;&nbsp;iterator,
                            int&nbsp;size,
                            java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;&nbsp;comparator)</PRE>
<DL>
<DD>Creates a new instance of the replacement-selection operator.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>iterator</CODE> - the input iteration the sorted runs should be created
        of.<DD><CODE>size</CODE> - the number of elements that can be kept in memory.<DD><CODE>comparator</CODE> - the comparator used to compare two elements.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="open()"><!-- --></A><H3>
open</H3>
<PRE>
public void <B>open</B>()</PRE>
<DL>
<DD>Opens the replacement-selection operator, i.e., signals the cursor to
 reserve resources, open the input iteration and initializing the
 internally used heap. Before a cursor has been opened calls to methods
 like <code>next</code> or <code>peek</code> are not guaranteed to yield
 proper results. Therefore <code>open</code> must be called before a
 cursor's data can be processed. Multiple calls to <code>open</code> do
 not have any effect, i.e., if <code>open</code> was called the cursor
 remains in the state <i>opened</i> until its <code>close</code> method
 is called.
 
 <p>Note, that a call to the <code>open</code> method of a closed cursor
 usually does not open it again because of the fact that its state
 generally cannot be restored when resources are released respectively
 files are closed.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/Cursor.html#open()">open</A></CODE> in interface <CODE><A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#open()">open</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="init()"><!-- --></A><H3>
init</H3>
<PRE>
protected void <B>init</B>()</PRE>
<DL>
<DD>Initializes the replacement-selection operator. The implementation of
 this method is as follows:
 <code><pre>
     array = new Object[n = size];
     input.open();
     while (input.hasNext() && n &gt; 0)
         array[--n] = input.next();
     (heap = new Heap(array, 0, comparator)).open();
 </pre></code>
 The input iteration's elements are inserted in an array with length
 <code>size</code> until this array is filled up or the input iteration
 has no more elements. With the help of this array and the given
 comparator a new heap is created with the intention to order the
 elements.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()</PRE>
<DL>
<DD>Closes the replacement-selection operator, i.e., signals the cursor to
 clean up resources, close the input iteration and the internally used
 heap. When a cursor has been closed calls to methods like
 <code>next</code> or <code>peek</code> are not guaranteed to yield
 proper results. Multiple calls to <code>close</code> do not have any
 effect, i.e., if <code>close</code> was called the cursor remains in the
 state <i>closed</i>.
 
 <p>Note, that a closed cursor usually cannot be opened again because of
 the fact that its state generally cannot be restored when resources are
 released respectively files are closed.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/Cursor.html#close()">close</A></CODE> in interface <CODE><A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#close()">close</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="check()"><!-- --></A><H3>
check</H3>
<PRE>
protected void <B>check</B>()</PRE>
<DL>
<DD>Checks whether there are more elements to process. If so and the heap is
 empty, it creates a new heap using the elements that are reside in
 memory and sets <code>n</code> to <code>array.length</code>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="hasNextObject()"><!-- --></A><H3>
hasNextObject</H3>
<PRE>
protected boolean <B>hasNextObject</B>()</PRE>
<DL>
<DD>Returns <code>true</code> if the iteration has more elements. (In other
 words, returns <code>true</code> if <code>next</code> or
 <code>peek</code> would return an element rather than throwing an
 exception.)
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNextObject()">hasNextObject</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the cursor has more elements.</DL>
</DD>
</DL>
<HR>

<A NAME="nextObject()"><!-- --></A><H3>
nextObject</H3>
<PRE>
protected <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A> <B>nextObject</B>()</PRE>
<DL>
<DD>Returns the next element in the iteration. This element will be
 accessible by some of the cursor's methods, e.g., <code>update</code> or
 <code>remove</code>, until a call to <code>next</code> or
 <code>peek</code> occurs. This is calling <code>next</code> or
 <code>peek</code> proceeds the iteration and therefore its previous
 element will not be accessible any more.
 
 <p>Such an element exists if <code>n &lt; array.length</code> or the
 heap contains further elements. If this is the case the method
 <code>check</code> is performed. If the input iteration contains more
 elements and the next element of the  heap is lower than or equal to the
 next element of the input iteration concerning the used comparator, the
 next element of the heap is returned after the next element of the input
 iteration has been inserted into the heap. If the comparator returned a
 value greater than 0, the next element of the heap is returned and the
 next element of the input iteration is inserted in the array at position
 <code>n</code>. The array builds up a new heap for the next run. After
 that <code>n</code> is decremented. So a new heap is built up during the
 other heap is consumed. If the input cursor does not contain further
 elements the next element of the heap is returned.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#nextObject()">nextObject</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the next element in the iteration.</DL>
</DD>
</DL>
<HR>

<A NAME="reset()"><!-- --></A><H3>
reset</H3>
<PRE>
public void <B>reset</B>()
           throws java.lang.UnsupportedOperationException</PRE>
<DL>
<DD>Resets the replacement-selection to its initial state (optional
 operation). So the caller is able to traverse the underlying iteration
 again.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/Cursor.html#reset()">reset</A></CODE> in interface <CODE><A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#reset()">reset</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="type parameter in ReplacementSelection">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.UnsupportedOperationException</CODE> - if the <code>reset</code> method
         is not supported by the replacement-selection operator.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReplacementSelection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../xxl/core/cursors/groupers/NestedLoopsGrouper.html" title="class in xxl.core.cursors.groupers"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../xxl/core/cursors/groupers/SortBasedGrouper.html" title="class in xxl.core.cursors.groupers"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?xxl/core/cursors/groupers/ReplacementSelection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReplacementSelection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
