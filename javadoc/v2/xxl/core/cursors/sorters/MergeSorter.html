<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Tue Jun 28 13:36:34 CEST 2011 -->
<TITLE>
MergeSorter
</TITLE>

<META NAME="date" CONTENT="2011-06-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MergeSorter";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MergeSorter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../xxl/core/cursors/sorters/ShuffleCursor.html" title="class in xxl.core.cursors.sorters"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?xxl/core/cursors/sorters/MergeSorter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MergeSorter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
xxl.core.cursors.sorters</FONT>
<BR>
Class MergeSorter&lt;E&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">xxl.core.cursors.AbstractCursor</A>&lt;E&gt;
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>xxl.core.cursors.sorters.MergeSorter&lt;E&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>E</CODE> - the type of the elements returned by this iteration.</DL>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.util.Iterator&lt;E&gt;, <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;E&gt;</DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../xxl/core/relational/cursors/MergeSorter.html" title="class in xxl.core.relational.cursors">MergeSorter</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>MergeSorter&lt;E&gt;</B><DT>extends <A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;E&gt;</DL>
</PRE>

<P>
An external merge-sort algorithm based on the
 <A HREF="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="class in xxl.core.cursors.groupers"><CODE>replacement-selection</CODE></A>
 operator. The external sorting (i.e., the "logical" sort-operator) can be
 implemented (with "physical" operators) in two ways:
 <ol>
     <li>
         Create sorted runs and merge them recursively (external merge-sort)
         or
     </li>
     <li>
         divide the input recursively into partitions until each partition
         fits into main memory. Then the sort-operation is performed with a
         main-memory sorting-algorithm (external distribution-sort).
     </li>
 </ol>
 This class implements the first algorithm. This technique is described in
 "G. Graefe: <i>Query evaluation techniques for large databases</i>.
 Computing Surveys 25:2 June 1993."<br> In the open-phase, sorted runs are
 created with replacement-selection. Note, that replacement-selection
 produces runs that are on average twice as large as the memory available, or
 even bigger. Then, the runs (queues) are recursively merged until
 <code>finalFanIn</code> intermediate runs are left. In the next-phase, the
 remaining runs are merged on demand, i.e., no final queue containing the
 complete sorted output will be created. The next element is determined when
 the user calls the <code>next</code> method.
 
 <p><b>Example usage (1):</b>
 <code><pre>
   MergeSorter&lt;Integer&gt; sorter = new MergeSorter&lt;Integer&gt;(
       new DiscreteRandomNumber(new JavaDiscreteRandomWrapper(100000), 300*1000),
       ComparableComparator.INTEGER_COMPARATOR,
       12,
       12*4096,
       0.0,
       0.0,
       0.0,
       4*4096,
       0.0,
       new Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt;() {
           public Queue&lt;Integer&gt; invoke(Function&lt;?, Integer&gt; function1, Function&lt;?, Integer&gt; function2) {
               return new ListQueue&lt;Integer&gt;();
           }
       },
       true
   );
   
   sorter.open();
   
   int count = 0;
   for (Integer old = null; sorter.hasNext(); count++) {
       if (old != null && old.compareTo(sorter.peek()) > 0)
           throw new RuntimeException("Fehler: Wert " + sorter.peek() + " ist groesser!");
       old = sorter.next();
   }
   System.out.println("Objects: " + count);
   
   sorter.close();
 </pre></code></p>
 
 <p>The constructor of the merge-sorter at least needs to know the
 object-size (which can be estimated by summing up the sizes of primitive
 types, references are assumed to occupy 8 bytes), the memory available
 during the open-phase and the memory available during the next-phase. The
 latter values can differ, e.g., for a sort-merge join for the inputs
 <code>R</code> and <code>S</code> it is a sensible choice to allow the
 merge-sorters to use the entire memory in the open-phase. In the next-phase
 however, two merge-sorters and the join operator have to share the memory
 and the memory has to be divided, i.e., in the next-phase a merge-sorter
 typically has less memory available than in the open-phase (see example 2).
 Further options of more advanced constructors determine how the memory
 assigned to the merge-sorter is used internally. There are four values:
 <ul>
     <li>
         <code>firstOutputBufferRatio</code> the ratio of memory available to
         the output buffer during run-creation
         <dl>
             <dt>
                 0.0
             </dt>
             <dd>
                 use only one page for the output buffer and what remains is
                 used for the heap
             </dd>
             <dt>
                 1.0
             </dt>
             <dd>
                 use as much memory as possible for the output buffer
             </dd>
         </dl>
     </li>
     <li>
         <code>outputBufferRatio</code> the amount of memory available to the
         output buffer during intermediate merges (not the final merge)
         <dl>
             <dt>
                 0.0
             </dt>
             <dd>
                 use only one page for the output buffer, what remains is
                 used for the merger and the input buffer,
                 <code>inputBufferRatio</code> determines how the remaining
                 memory is distributed between them
             </dd>
             <dt>
                 1.0
             </dt>
             <dd>
                 use as much memory as possible for the output buffer
             </dd>
         </dl>
     </li>
     <li>
         <code>inputBufferRatio</code> the amount of memory available to the
         input buffer during intermediate merges (not the final merge)
         <dl>
             <dt>
                 0.0
             </dt>
             <dd>
                 use only one page for the input buffer, what remains is used
                 for the merger (maximal fan-in)
             </dd>
             <dt>
                 1.0
             </dt>
             <dd>
                 use as much memory as possible for the input buffer
             </dd>
         </dl>
     </li>
     <li>
         <code>finalInputBufferRatio</code> the amount of memory available to
         the input buffers of the final (online) merge
         <dl>
             <dt>
                 0.0
             </dt>
             <dd>
                 maximum number of inputs (maximal fan-in), i.e., perform the
                 online merge as early as possible
             </dd>
             <dt>
                 1.0
             </dt>
             <dd>
                 write the entire data into a final queue, the online
                 "merger" just reads the data from this queue
             </dd>
         </dl>
     </li>
 </ul></p>
 
 <p>If you call a constructor with the <code>verbose</code>-flag set to
 <code>true</code> the merge-sorter displays how the memory was distributed
 internally. In addition, the number of merges is displayed.<br />
 <b>Example Output:</b>
 <pre>
 dittrich@hadar:~/newXXL> java -classpath class xxl/cursors/MergeSorter
 -----------------------------------------------------------
 GLOBAL
         blockSize:              4096
         objectSize:             12

 OPEN phase
         memSize:                49152

     run creation
         firstOutputBufferSize:  4096
         heapSize:               3754

     intermediate merges
         outputBufferSize:       4096
         inputBufferSize:        4096
         fanIn:                  10

 NEXT phase
     final merge
         finalMemSize:           16384
         finalInputBufferSize:   4096
         finalFanIn:             3
 -----------------------------------------------------------

 merge: fanIn: 3  queues.size(): 41 --> 39
 merge: fanIn: 10  queues.size(): 39 --> 30
 merge: fanIn: 10  queues.size(): 30 --> 21
 merge: fanIn: 10  queues.size(): 21 --> 12
 merge: fanIn: 10  queues.size(): 12 --> 3
 final merge: fanIn: 3
 Objects: 300000
 </pre></p>
 
 <p>Most constructors have a parameter named <code>newQueue</code>, that
 should return a queue, which is used by the algorithm to materialize the
 internal runs, i.e., this function determines whether the sort operator
 works on queues based on external storage or in main memory (useful for
 testing and counting).</p>
 
 <p><b>Example usage (3):</b>
 <code><pre>
   Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt; newQueue = new Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt;() {
       public Queue&lt;Integer&gt; invoke(Function&lt;?, Integer&gt; function1, Function&lt;?, Integer&gt; function2) {
       
           //return a new ListQueue (resident in main memory)
           
           return new ListQueue&lt;Integer&gt;();
       }
   };
 </pre></code>
 The <code>invoke</code> method with two object parameters has to be
 overriden. This method is called by the merge-sorter with two internal
 functions whenever a new queue is needed:
 <code><pre>
   //internal call to newQueue
 
   newQueue.invoke(getInputBufferSize(), getOutputBufferSize());
 </pre></code>
 The two parameterless functions return an integer object with the buffer
 size for the input- and output-buffer of the queue. You should pass these
 functions directly to the queue (if it can make use of these parameters). If
 the queue gets a read-request it will then open an input stream and call the
 <code>getInputBufferSize</code> method. This means, that the buffer size is
 determined when it is needed and not when the queue is constructed. In other
 words, the computation of the buffer size is delayed until the size of the
 buffer is needed by the queue to construct the buffer.</p>

 <p><b>Example usage (4):</b>
 <code><pre>
   Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt; newQueue = new Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt;() {
       
       protected File getFile() {
           try {
           
               //return a new File-Object (a temp-file created by java.io.File)
               
               return File.createTempFile("RAF", ".queue");
           }
           catch (IOException e) {}
       }
       
       protected Function newObject = new AbstractFunction() {
           public Object invoke() {
 
               //return a new Object
 
               return new MyType();
           }
       };
 
       public Queue&lt;Integer&gt; invoke(Function&lt;?, Integer&gt; function1, Function&lt;?, Integer&gt; function2) {
           return new RandomAccessFileQueue&lt;Integer&gt;(
               getFile(),
               newObject,
               function1,
               function2
           );
       }
   }
 </pre></code></p>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><CODE>Iterator</CODE>, 
<A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors"><CODE>Cursor</CODE></A>, 
<A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors"><CODE>AbstractCursor</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#blockSize">blockSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The size of a block used for the sort operation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#comparator">comparator</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The comparator used to compare the elements of the two input iteration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#currentFanIn">currentFanIn</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of currently merged runs (queues).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#cursor">cursor</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A cursor holding the final merge of the merge-sorter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#fanIn">fanIn</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The fan-in is needed as parameter for the intermediate merges.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#finalFanIn">finalFanIn</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The sorted runs (queues) are recursively merged until only final fan-in
 intermediate runs are left.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#finalInputBufferSize">finalInputBufferSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The final input-buffer size is used for the final merge.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#finalMemSize">finalMemSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The size of the memory used for the final merge of the sort operation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#firstOutputBufferSize">firstOutputBufferSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The first output-buffer size is used during the run creation in the
 open-phase.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#heapSize">heapSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The heap size used concerning replacement-selection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#input">input</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The input iteration holding the data to be sorted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#inputBufferSize">inputBufferSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The input-buffer size is used during the intermediate merges.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#memSize">memSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The size of the memory used for intermediate merges of the sort
 operation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;?,java.lang.Integer&gt;,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#newQueue">newQueue</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A binary function, that should return a queue, which is used by the
 algorithm to materialize the internal runs, i.e., this function
 determines whether the sort operator works on queues based on external
 storage or in main memory (useful for testing and counting).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#newQueuesQueue">newQueuesQueue</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A binary function, which creates a queue, that should contain the queues
 to be merged.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#objectSize">objectSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The size of an used for the sort operation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#openPhaseFinished">openPhaseFinished</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A boolean flag to signal whether the open-phase is finished.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#outputBufferSize">outputBufferSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The output-buffer size is used during the intermediate merges.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#queuesQueueComparator">queuesQueueComparator</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This comparator determines the next queue used for merging.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#runsCreated">runsCreated</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A boolean flag to signal whether the runs are created.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#verbose">verbose</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A boolean flag that determines whether a debug output should be
 generated or not.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_xxl.core.cursors.AbstractCursor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class xxl.core.cursors.<A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#assignedNext">assignedNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#computedHasNext">computedHasNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNext">hasNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isClosed">isClosed</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isOpened">isOpened</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isValid">isValid</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#next">next</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter(java.util.Iterator, java.util.Comparator, int, int, double, double, double, int, double, xxl.core.functions.Function, boolean)">MergeSorter</A></B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
            java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
            int&nbsp;objectSize,
            int&nbsp;memSize,
            double&nbsp;firstOutputBufferRatio,
            double&nbsp;outputBufferRatio,
            double&nbsp;inputBufferRatio,
            int&nbsp;finalMemSize,
            double&nbsp;finalInputBufferRatio,
            <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;?,java.lang.Integer&gt;,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&nbsp;newQueue,
            boolean&nbsp;verbose)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new merge-sorter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter(java.util.Iterator, java.util.Comparator, int, int, int)">MergeSorter</A></B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
            java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
            int&nbsp;objectSize,
            int&nbsp;memSize,
            int&nbsp;finalMemSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new merge-sorter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter(java.util.Iterator, java.util.Comparator, int, int, int, boolean)">MergeSorter</A></B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
            java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
            int&nbsp;objectSize,
            int&nbsp;memSize,
            int&nbsp;finalMemSize,
            boolean&nbsp;verbose)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new merge-sorter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter(java.util.Iterator, java.util.Comparator, int, int, int, double, double, double, int, double, xxl.core.functions.Function, xxl.core.functions.Function, java.util.Comparator, boolean)">MergeSorter</A></B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
            java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
            int&nbsp;blockSize,
            int&nbsp;objectSize,
            int&nbsp;memSize,
            double&nbsp;firstOutputBufferRatio,
            double&nbsp;outputBufferRatio,
            double&nbsp;inputBufferRatio,
            int&nbsp;finalMemSize,
            double&nbsp;finalInputBufferRatio,
            <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;?,java.lang.Integer&gt;,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&nbsp;newQueue,
            <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&gt;&nbsp;newQueuesQueue,
            java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&nbsp;queuesQueueComparator,
            boolean&nbsp;verbose)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new merge-sorter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter(java.util.Iterator, java.util.Comparator, int, int, int, xxl.core.functions.Function, boolean)">MergeSorter</A></B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
            java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
            int&nbsp;objectSize,
            int&nbsp;memSize,
            int&nbsp;finalMemSize,
            <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;?,java.lang.Integer&gt;,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&nbsp;newQueue,
            boolean&nbsp;verbose)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new merge-sorter.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Closes the merge-sorter, i.e., signals the merge-sorter to clean up
 resources, close the input iteration, etc.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#getInputBufferSize()">getInputBufferSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current input-buffer size depending on
 <code>openPhaseFinished</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#getOutputBufferSize()">getOutputBufferSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current output-buffer size depending on
 <code>runsCreated</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#hasNextObject()">hasNextObject</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if the iteration has more elements.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#nextObject()">nextObject</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the next element in the iteration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#open()">open</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opens the merge-sorter, i.e., signals the merge-sorter to reserve
 resources, computing and merging the intermediate runs, etc.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html#showInfo()">showInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the <code>verbose</code>-flag set to <code>true</code> the
 MergeSorter displays this information how the memory was distributed
 internally.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_xxl.core.cursors.AbstractCursor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class xxl.core.cursors.<A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNext()">hasNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isClosed()">isClosed</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#next()">next</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#peek()">peek</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#remove()">remove</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#reset()">reset</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsPeek()">supportsPeek</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsRemove()">supportsRemove</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsReset()">supportsReset</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsUpdate()">supportsUpdate</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#update(E)">update</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="input"><!-- --></A><H3>
input</H3>
<PRE>
protected <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt; <B>input</B></PRE>
<DL>
<DD>The input iteration holding the data to be sorted.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="comparator"><!-- --></A><H3>
comparator</H3>
<PRE>
protected java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt; <B>comparator</B></PRE>
<DL>
<DD>The comparator used to compare the elements of the two input iteration.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="blockSize"><!-- --></A><H3>
blockSize</H3>
<PRE>
protected int <B>blockSize</B></PRE>
<DL>
<DD>The size of a block used for the sort operation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="objectSize"><!-- --></A><H3>
objectSize</H3>
<PRE>
protected int <B>objectSize</B></PRE>
<DL>
<DD>The size of an used for the sort operation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="memSize"><!-- --></A><H3>
memSize</H3>
<PRE>
protected int <B>memSize</B></PRE>
<DL>
<DD>The size of the memory used for intermediate merges of the sort
 operation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="finalMemSize"><!-- --></A><H3>
finalMemSize</H3>
<PRE>
protected int <B>finalMemSize</B></PRE>
<DL>
<DD>The size of the memory used for the final merge of the sort operation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="newQueue"><!-- --></A><H3>
newQueue</H3>
<PRE>
protected <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;?,java.lang.Integer&gt;,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt; <B>newQueue</B></PRE>
<DL>
<DD>A binary function, that should return a queue, which is used by the
 algorithm to materialize the internal runs, i.e., this function
 determines whether the sort operator works on queues based on external
 storage or in main memory (useful for testing and counting). The
 <code>invoke</code> method with two object parameters has to be
 overriden. This method is called by the merge-sorter with two internal
 functions whenever a new queue is needed:
 <code><pre>
   //internal call to newQueue
 
   newQueue.invoke(getInputBufferSize(), getOutputBufferSize());
 </pre></code>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="newQueuesQueue"><!-- --></A><H3>
newQueuesQueue</H3>
<PRE>
protected <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&gt; <B>newQueuesQueue</B></PRE>
<DL>
<DD>A binary function, which creates a queue, that should contain the queues
 to be merged. The function takes an iterator and the comparator
 <code>queuesQueueComparator</code> as parameters. E.g.,
 <code><pre>
   new Function&lt;Object, Queue&lt;E&gt;&gt;() {
       public Queue&lt;E&gt; invoke(Object iterator, Object comparator) {
           return new DynamicHeap&lt;E&gt;((Iterator&lt;E&gt;)iterator, (Comparator&lt;E&gt;)comparator);
       }
   };
 </pre>
 The queues contained in the iterator are inserted in the dynamic heap
 using the given comparator for comparison.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="queuesQueueComparator"><!-- --></A><H3>
queuesQueueComparator</H3>
<PRE>
protected java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt; <B>queuesQueueComparator</B></PRE>
<DL>
<DD>This comparator determines the next queue used for merging.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="verbose"><!-- --></A><H3>
verbose</H3>
<PRE>
protected boolean <B>verbose</B></PRE>
<DL>
<DD>A boolean flag that determines whether a debug output should be
 generated or not.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="cursor"><!-- --></A><H3>
cursor</H3>
<PRE>
protected <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt; <B>cursor</B></PRE>
<DL>
<DD>A cursor holding the final merge of the merge-sorter.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="inputBufferSize"><!-- --></A><H3>
inputBufferSize</H3>
<PRE>
protected int <B>inputBufferSize</B></PRE>
<DL>
<DD>The input-buffer size is used during the intermediate merges. It is
 computed as follows:
 <code><pre>
     inputBufferSize = (((int)(((memSize-outputBufferSize)/2-(objectSize+blockSize))*inputBufferRatio))/blockSize+1)*blockSize;
 </pre></code>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="finalInputBufferSize"><!-- --></A><H3>
finalInputBufferSize</H3>
<PRE>
protected int <B>finalInputBufferSize</B></PRE>
<DL>
<DD>The final input-buffer size is used for the final merge. It is computed
 as follows:
 <code><pre>
     finalInputBufferSize = (((int)((finalMemSize-objectSize-blockSize)*finalInputBufferRatio))/blockSize+1)*blockSize;
 </pre></code>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="heapSize"><!-- --></A><H3>
heapSize</H3>
<PRE>
protected int <B>heapSize</B></PRE>
<DL>
<DD>The heap size used concerning replacement-selection. In the open-phase,
 sorted runs are created with replacement-selection. The heap size is
 computed as follows:
 <code><pre>
     heapSize = (memSize-firstOutputBufferSize)/objectSize;
 </pre></code>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="firstOutputBufferSize"><!-- --></A><H3>
firstOutputBufferSize</H3>
<PRE>
protected int <B>firstOutputBufferSize</B></PRE>
<DL>
<DD>The first output-buffer size is used during the run creation in the
 open-phase. It is computed as follows:
 <code><pre>
     firstOutputBufferSize = (((int)(((memSize-objectSize-blockSize)*firstOutputBufferRatio)))/blockSize+1)*blockSize;
 </pre></code>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="outputBufferSize"><!-- --></A><H3>
outputBufferSize</H3>
<PRE>
protected int <B>outputBufferSize</B></PRE>
<DL>
<DD>The output-buffer size is used during the intermediate merges. It is
 computed as follows:
 <code><pre>
     outputBufferSize = (((int)((memSize-blockSize-2*(objectSize+blockSize))*outputBufferRatio))/blockSize+1)*blockSize;
 </pre></code>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="currentFanIn"><!-- --></A><H3>
currentFanIn</H3>
<PRE>
protected int <B>currentFanIn</B></PRE>
<DL>
<DD>The number of currently merged runs (queues).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="fanIn"><!-- --></A><H3>
fanIn</H3>
<PRE>
protected int <B>fanIn</B></PRE>
<DL>
<DD>The fan-in is needed as parameter for the intermediate merges. It is
 computed as follows:
 <code><pre>
     fanIn = (memSize-outputBufferSize)/(inputBufferSize+objectSize);
 </pre></code>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="finalFanIn"><!-- --></A><H3>
finalFanIn</H3>
<PRE>
protected int <B>finalFanIn</B></PRE>
<DL>
<DD>The sorted runs (queues) are recursively merged until only final fan-in
 intermediate runs are left. It is used for the final merge and is
 computed as follows:
 <code><pre>
     finalFanIn = finalMemSize/(finalInputBufferSize+objectSize);
 </pre></code>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="runsCreated"><!-- --></A><H3>
runsCreated</H3>
<PRE>
protected boolean <B>runsCreated</B></PRE>
<DL>
<DD>A boolean flag to signal whether the runs are created.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="openPhaseFinished"><!-- --></A><H3>
openPhaseFinished</H3>
<PRE>
protected boolean <B>openPhaseFinished</B></PRE>
<DL>
<DD>A boolean flag to signal whether the open-phase is finished.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MergeSorter(java.util.Iterator, java.util.Comparator, int, int, int, double, double, double, int, double, xxl.core.functions.Function, xxl.core.functions.Function, java.util.Comparator, boolean)"><!-- --></A><H3>
MergeSorter</H3>
<PRE>
public <B>MergeSorter</B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
                   java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
                   int&nbsp;blockSize,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   double&nbsp;firstOutputBufferRatio,
                   double&nbsp;outputBufferRatio,
                   double&nbsp;inputBufferRatio,
                   int&nbsp;finalMemSize,
                   double&nbsp;finalInputBufferRatio,
                   <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;?,java.lang.Integer&gt;,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&nbsp;newQueue,
                   <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&gt;&nbsp;newQueuesQueue,
                   java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&nbsp;queuesQueueComparator,
                   boolean&nbsp;verbose)</PRE>
<DL>
<DD>Creates a new merge-sorter.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - the input iteration to be sorted.<DD><CODE>comparator</CODE> - the comparator used to compare the elements in the
        heap (replacement-selection).<DD><CODE>blockSize</CODE> - the size of a block (page).<DD><CODE>objectSize</CODE> - the size of an object in main memory.<DD><CODE>memSize</CODE> - the memory available to the merge-sorter during the
        open-phase.<DD><CODE>firstOutputBufferRatio</CODE> - the ratio of memory available to the
        output-buffer during run-creation.
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the output buffer and what remains
                is used for the heap
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the output buffer
            </dd>
        </dl><DD><CODE>outputBufferRatio</CODE> - the amount of memory available to the
        output-buffer during intermediate merges (not the final merge).
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the output buffer, what remains is
                used for the merger and the input buffer,
                <tt>inputBufferRatio</tt> determines how the remaining
                memory is distributed between them
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the output buffer
            </dd>
        </dl><DD><CODE>inputBufferRatio</CODE> - the amount of memory available to the
        input-buffer during intermediate merges (not the final merge).
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the input buffer, what remains is
                used for the merger (maximal fan-in)
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the input buffer
            </dd>
        </dl><DD><CODE>finalMemSize</CODE> - the memory available to the merge-sorter during the
        next-phase.<DD><CODE>finalInputBufferRatio</CODE> - the amount of memory available to the
        input-buffer of the final (online) merge.
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                maximum number of inputs (maximal fan-in), i.e., perform
                the online merge as early as possible
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                write the entire data into a final queue, the online
                "merger" just reads the data from this queue
            </dd>
        </dl><DD><CODE>newQueue</CODE> - the function <code>newQueue</code> should return a
        queue, which is used by the algorithm to materialize the internal
        runs, i.e., this function determines whether the sort operator
        works on queues based on external storage or in main memory
        (useful for testing and counting). The function takes two
        parameterless functions <code>getInputBufferSize</code> and
        <code>getOutputBufferSize</code> as parameters.<DD><CODE>newQueuesQueue</CODE> - if this function is invoked, the queue, that
        should contain the queues to be merged, is returned. The function
        takes an iterator and the comparator
        <code>queuesQueueComparator</code> as parameters. E.g.,
        <code><pre>
          new Function&lt;Object, Queue&lt;E&gt;&gt;() {
              public Queue&lt;E&gt; invoke(Object iterator, Object comparator) {
                  return new DynamicHeap&lt;E&gt;((Iterator&lt;E&gt;)iterator, (Comparator&lt;E&gt;)comparator);
              }
          };
        </pre></code>
        The queues contained in the iterator are inserted in the dynamic
        heap using the given comparator for comparison.<DD><CODE>queuesQueueComparator</CODE> - this comparator determines the next queue
        used for merging.<DD><CODE>verbose</CODE> - if the <code>verbose</code> flag set to <code>true</code>
        the merge-sorter displays how the memory was distributed
        internally. In addition, the number of merges is displayed.</DL>
</DL>
<HR>

<A NAME="MergeSorter(java.util.Iterator, java.util.Comparator, int, int, double, double, double, int, double, xxl.core.functions.Function, boolean)"><!-- --></A><H3>
MergeSorter</H3>
<PRE>
public <B>MergeSorter</B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
                   java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   double&nbsp;firstOutputBufferRatio,
                   double&nbsp;outputBufferRatio,
                   double&nbsp;inputBufferRatio,
                   int&nbsp;finalMemSize,
                   double&nbsp;finalInputBufferRatio,
                   <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;?,java.lang.Integer&gt;,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&nbsp;newQueue,
                   boolean&nbsp;verbose)</PRE>
<DL>
<DD>Creates a new merge-sorter. The queues to be merged are inserted in a
 <A HREF="../../../../xxl/core/collections/queues/DynamicHeap.html" title="class in xxl.core.collections.queues"><CODE>dynamic heap</CODE></A> and they
 are compared according their sizes.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - the input iteration to be sorted.<DD><CODE>comparator</CODE> - the comparator used to compare the elements in the
        heap (replacement-selection).<DD><CODE>objectSize</CODE> - the size of an object in main memory.<DD><CODE>memSize</CODE> - the memory available to the merge-sorter during the
        open-phase.<DD><CODE>firstOutputBufferRatio</CODE> - the ratio of memory available to the
        output-buffer during run-creation.
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the output buffer and what remains
                is used for the heap
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the output buffer
            </dd>
        </dl><DD><CODE>outputBufferRatio</CODE> - the amount of memory available to the
        output-buffer during intermediate merges (not the final merge).
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the output buffer, what remains is
                used for the merger and the input buffer,
                <code>inputBufferRatio</code> determines how the
                remaining memory is distributed between them
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the output buffer
            </dd>
        </dl><DD><CODE>inputBufferRatio</CODE> - the amount of memory available to the
        input-buffer during intermediate merges (not the final merge).
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the input buffer, what remains is
                used for the merger (maximal fan-in)
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the input buffer
            </dd>
        </dl><DD><CODE>finalMemSize</CODE> - the memory available to the merge-sorter during the
        next-phase.<DD><CODE>finalInputBufferRatio</CODE> - the amount of memory available to the
        input-buffer of the final (online) merge.
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                maximum number of inputs (maximal fan-in), i.e., perform
                the online merge as early as possible
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                write the entire data into a final queue, the online
                "merger" just reads the data from this queue
            </dd>
        </dl><DD><CODE>newQueue</CODE> - the function <code>newQueue</code> should return a
        queue, which is used by the algorithm to materialize the internal
        runs, i.e., this function determines whether the sort operator
        works on queues based on external storage or in main memory
        (useful for testing and counting). The function takes two
        parameterless functions <code>getInputBufferSize</code> and
        <code>getOutputBufferSize</code> as parameters.<DD><CODE>verbose</CODE> - if the <code>verbose</code> flag set to <code>true</code>
        the merge-sorter displays how the memory was distributed
        internally. In addition, the number of merges is displayed.</DL>
</DL>
<HR>

<A NAME="MergeSorter(java.util.Iterator, java.util.Comparator, int, int, int, xxl.core.functions.Function, boolean)"><!-- --></A><H3>
MergeSorter</H3>
<PRE>
public <B>MergeSorter</B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
                   java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   int&nbsp;finalMemSize,
                   <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;?,java.lang.Integer&gt;,? extends <A HREF="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&gt;&nbsp;newQueue,
                   boolean&nbsp;verbose)</PRE>
<DL>
<DD>Creates a new merge-sorter. The parameters
 <code>inputBufferRatio</code>, <code>finalInputBufferRatio</code>,
 <code>firstOutputBufferRatio</code> and <code>outputBufferRatio</code>
 are set to <code>0.0</code>. That means only one page is reserved for
 input- and output-buffer and the maximal fan-in is used during the
 intermediate merges and for the final merge. The queues to be merged are
 inserted in a
 <A HREF="../../../../xxl/core/collections/queues/DynamicHeap.html" title="class in xxl.core.collections.queues"><CODE>dynamic heap</CODE></A> and they
 are compared according their sizes.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - the input iteration to be sorted.<DD><CODE>comparator</CODE> - the comparator used to compare the elements in the
        heap (replacement-selection).<DD><CODE>objectSize</CODE> - the size of an object in main memory.<DD><CODE>memSize</CODE> - the memory available to the merge-sorter during the
        open-phase.<DD><CODE>finalMemSize</CODE> - the memory available to the merge-sorter during the
        next-phase.<DD><CODE>newQueue</CODE> - the function <code>newQueue</code> should return a
        queue, which is used by the algorithm to materialize the internal
        runs, i.e., this function determines whether the sort operator
        works on queues based on external storage or in main memory
        (useful for testing and counting). The function takes two
        parameterless functions <code>getInputBufferSize</code> and
        <code>getOutputBufferSize</code> as parameters.<DD><CODE>verbose</CODE> - if the <code>verbose</code> flag set to <code>true</code>
        the merge-sorter displays how the memory was distributed
        internally. In addition, the number of merges is displayed.</DL>
</DL>
<HR>

<A NAME="MergeSorter(java.util.Iterator, java.util.Comparator, int, int, int, boolean)"><!-- --></A><H3>
MergeSorter</H3>
<PRE>
public <B>MergeSorter</B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
                   java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   int&nbsp;finalMemSize,
                   boolean&nbsp;verbose)</PRE>
<DL>
<DD>Creates a new merge-sorter. The parameters
 <code>inputBufferRatio</code>, <code>finalInputBufferRatio</code>,
 <code>firstOutputBufferRatio</code> and <code>outputBufferRatio</code>
 are set to <code>0.0</code>. That means only one page is reserved for
 input- and output-buffer and the maximal fan-in is used during the
 intermediate merges and for the final merge. The queue are given by
 <A HREF="../../../../xxl/core/collections/queues/ListQueue.html" title="class in xxl.core.collections.queues"><CODE>list-queues</CODE></A>, i.e., the
 intermediate runs are materialized in main memory and they will be
 inserted in a
 <A HREF="../../../../xxl/core/collections/queues/DynamicHeap.html" title="class in xxl.core.collections.queues"><CODE>dynamic heap</CODE></A> and they
 are compared according their sizes.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - the input iteration to be sorted.<DD><CODE>comparator</CODE> - the comparator used to compare the elements in the
        heap (replacement-selection).<DD><CODE>objectSize</CODE> - the size of an object in main memory.<DD><CODE>memSize</CODE> - the memory available to the merge-sorter during the
        open-phase.<DD><CODE>finalMemSize</CODE> - the memory available to the merge-sorter during the
        next-phase.<DD><CODE>verbose</CODE> - if the <tcodet>verbose</code> flag set to
        <code>true</code> the merge-sorter displays how the memory was
        distributed internally. In addition, the number of merges is
        displayed.</DL>
</DL>
<HR>

<A NAME="MergeSorter(java.util.Iterator, java.util.Comparator, int, int, int)"><!-- --></A><H3>
MergeSorter</H3>
<PRE>
public <B>MergeSorter</B>(java.util.Iterator&lt;? extends <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;input,
                   java.util.Comparator&lt;? super <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;&nbsp;comparator,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   int&nbsp;finalMemSize)</PRE>
<DL>
<DD>Creates a new merge-sorter. The parameters
 <code>inputBufferRatio</code>, <code>finalInputBufferRatio</code>,
 <code>firstOutputBufferRatio</code> and <code>outputBufferRatio</code>
 are set to <code>0.0</code>. That means only one page is reserved for
 input- and output-buffer and the maximal fan-in is used during the
 intermediate merges and for the final merge. The queue are given by
 <A HREF="../../../../xxl/core/collections/queues/ListQueue.html" title="class in xxl.core.collections.queues"><CODE>list-queues</CODE></A>, i.e., the
 intermediate runs are materialized in main memory and they will be
 inserted in a
 <A HREF="../../../../xxl/core/collections/queues/DynamicHeap.html" title="class in xxl.core.collections.queues"><CODE>dynamic heap</CODE></A> and they
 are compared according their sizes.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - the input iteration to be sorted.<DD><CODE>comparator</CODE> - the comparator used to compare the elements in the
        heap (replacement-selection).<DD><CODE>objectSize</CODE> - the size of an object in main memory.<DD><CODE>memSize</CODE> - the memory available to the merge-sorter during the
        open-phase.<DD><CODE>finalMemSize</CODE> - the memory available to the merge-sorter during the
        next-phase.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getInputBufferSize()"><!-- --></A><H3>
getInputBufferSize</H3>
<PRE>
protected <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,java.lang.Integer&gt; <B>getInputBufferSize</B>()</PRE>
<DL>
<DD>Returns the current input-buffer size depending on
 <code>openPhaseFinished</code>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a parameterless function delivering the current input-buffer
         size.</DL>
</DD>
</DL>
<HR>

<A NAME="getOutputBufferSize()"><!-- --></A><H3>
getOutputBufferSize</H3>
<PRE>
protected <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;java.lang.Object,java.lang.Integer&gt; <B>getOutputBufferSize</B>()</PRE>
<DL>
<DD>Returns the current output-buffer size depending on
 <code>runsCreated</code>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a parameterless function delivering the current output-buffer
         size.</DL>
</DD>
</DL>
<HR>

<A NAME="open()"><!-- --></A><H3>
open</H3>
<PRE>
public void <B>open</B>()</PRE>
<DL>
<DD>Opens the merge-sorter, i.e., signals the merge-sorter to reserve
 resources, computing and merging the intermediate runs, etc. Before a
 merge-sorter has been opened calls to methods like <code>next</code> or
 <code>peek</code> are not guaranteed to yield proper results. Therefore
 <code>open</code> must be called before a merge-sorter's data can be
 processed. Multiple calls to <code>open</code> do not have any effect,
 i.e., if <code>open</code> was called the merge-sorter remains in the
 state <i>opened</i> until its <code>close</code> method is called.
 
 <p>Note, that a call to the <code>open</code> method of a closed cursor
 usually does not open it again because of the fact that its state
 generally cannot be restored when resources are released respectively
 files are closed.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/Cursor.html#open()">open</A></CODE> in interface <CODE><A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#open()">open</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()</PRE>
<DL>
<DD>Closes the merge-sorter, i.e., signals the merge-sorter to clean up
 resources, close the input iteration, etc. When a cursor has been closed
 calls to methods like <code>next</code> or <code>peek</code> are not
 guaranteed to yield proper results. Multiple calls to <code>close</code>
 do not have any effect, i.e., if <code>close</code> was called the
 cursor remains in the state <i>closed</i>.
 
 <p>Note, that a closed cursor usually cannot be opened again because of
 the fact that its state generally cannot be restored when resources are
 released respectively files are closed.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/Cursor.html#close()">close</A></CODE> in interface <CODE><A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#close()">close</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="hasNextObject()"><!-- --></A><H3>
hasNextObject</H3>
<PRE>
protected boolean <B>hasNextObject</B>()</PRE>
<DL>
<DD>Returns <code>true</code> if the iteration has more elements. (In other
 words, returns <code>true</code> if <code>next</code> or
 <code>peek</code> would return an element rather than throwing an
 exception.)
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNextObject()">hasNextObject</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the merge-sorter has more elements.</DL>
</DD>
</DL>
<HR>

<A NAME="nextObject()"><!-- --></A><H3>
nextObject</H3>
<PRE>
protected <A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A> <B>nextObject</B>()</PRE>
<DL>
<DD>Returns the next element in the iteration. This element will be
 accessible by some of the merge-sorter's methods, e.g.,
 <code>update</code> or <code>remove</code>, until a call to
 <code>next</code> or <code>peek</code> occurs. This is calling
 <code>next</code> or <code>peek</code> proceeds the iteration and
 therefore its previous element will not be accessible any more.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#nextObject()">nextObject</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the next element in the iteration.</DL>
</DD>
</DL>
<HR>

<A NAME="showInfo()"><!-- --></A><H3>
showInfo</H3>
<PRE>
protected void <B>showInfo</B>()</PRE>
<DL>
<DD>If the <code>verbose</code>-flag set to <code>true</code> the
 MergeSorter displays this information how the memory was distributed
 internally. In addition, the number of merges is displayed.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MergeSorter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../xxl/core/cursors/sorters/ShuffleCursor.html" title="class in xxl.core.cursors.sorters"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?xxl/core/cursors/sorters/MergeSorter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MergeSorter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
